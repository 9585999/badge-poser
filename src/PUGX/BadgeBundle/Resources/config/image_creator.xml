<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <parameters>
        <parameter key="image_creator_local.class">PUGX\Badge\Image\Factory\SvgImageFactory</parameter>
        <parameter key="image_creator_local.template">PUGXBadgeBundle:Svg:defaultShield.svg.twig</parameter>
        <parameter key="shield_generator.svg.class">PUGX\Badge\Image\Generator\SvgShieldGenerator</parameter>
        <parameter key="shield_generator.template_engine.class">PUGX\BadgeBundle\Service\TwigAdapter</parameter>
    </parameters>

    <services>
        <service id="shield_generator.template_engine" class="%shield_generator.template_engine.class%">
            <argument type="service" id="twig"/>
        </service>

        <service id="shield_generator" class="%shield_generator.svg.class%">
            <argument type="service" id="shield_generator.template_engine" />
            <argument type="string">%image_creator_local.template%</argument>
        </service>

        <service id="image_creator_local" class="%image_creator_local.class%">
            <argument type="service" id="shield_generator"/>
        </service>

        <service id="normalizer" class="%normalizer.class%" public="false">
        </service>

    </services>
</container>